<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8" />
		<title>Websocket BASH</title>

		<script language="javascript" type="text/javascript">
			function init() {
				// first run echo.sh on localhost
				WS = window.WebSocket ||Â window.MozWebSocket;
				ws = new WS("ws://localhost:1337");

				ws.onopen = function(e) {
					console.log(e);
					send("BASH NUGGETS?");
				};

				ws.onclose = ws.onerror = function(e) {
					console.log(e);
				};

				ws.onmessage = function(e) {
					console.log("RECEIVED: " + e.data);
					// ws.close();
				};
			}

			function send(message) {
				console.log("SENT: " + message);
				ws.send(message);
			}

			window.addEventListener("load", init);
		</script>
	</head>

	<body>
		<h1>Websocket BASH</h1>
		<p>Please see your Web Inspector for output.</p>
	</body>
</html>
